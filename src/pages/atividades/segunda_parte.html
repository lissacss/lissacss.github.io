<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Soma</title>
    <link rel="stylesheet" href="../../../public/bootstrap/css_bootstrap.min.css">
</head>

<body>
    <div class="container-fluid">

        <div class="row">
            <div class="col-4">
                <div class="row-cols-4" id="materia1">
                    <div class="col-2 p-md-4">
                        <label for="nomeMateria">Matéria</label>
                        <input type="text" id="nomeMateria">
                    </div>
                    <div class="col-2 p-md-4 input-group">
                        <input type="number">
                        <input type="number">
                        <input type="number">
                        <input type="number">
                    </div>
                </div>
                <button onclick="save()">Verificar Notas </button>
                <p class="m-3 p-2" id="resultNotas"></p>
            </div>
        </div>
        
        </div>
 

    <script>
       

        let materia = { id: 0, nome: "", notas: [], total: 0, printInfo: "" };
        let materias = [];
        function save() {
            let inputNotas = [];
            let totalNotas = 0;
            let resultados = `<b>BOLETIM</b> <br>`;

            document.querySelectorAll("div.input-group input").forEach(e => {
                inputNotas.push(parseFloat(e.value))
                totalNotas += parseFloat(e.value);
            })

            materias.push(
                {
                    id: materia.id++,
                    nome: nomeMateria.value.toLocaleUpperCase(),
                    notas: inputNotas,
                    total: totalNotas,
                    info: `<hr>
                            RESULTADO DE: <b>${nomeMateria.value.toLocaleUpperCase()}</b> 
                            <ul>
                                <li><b>1º Bimestre:</b> ${inputNotas[0]}</li>
                                <li><b>2º Bimestre:</b> ${inputNotas[1]}</li>
                                <li><b>3º Bimestre:</b> ${inputNotas[2]}</li>
                                <li><b>4º Bimestre:</b> ${inputNotas[3]}</li>
                                <li>TOTAL FINAL: <b>${totalNotas}</b></li>
                                <li>STATUS: <b>${isAprovadoOuReprovado(totalNotas)}</b></li>
                            </ul>
                            `
                }
            )

            console.log(materias)

            materias.forEach(e => {
                resultados += `<br>` + e.info;
            })

            resultNotas.innerHTML = resultados;
        }
        function isAprovadoOuReprovado(valor) {
            if (valor >= 60) {
                return "APROVADO! :)"
            } else {
                return "REPROVADO! :("
            }
        }
       
    </script>

    <script src="../../../public/bootstrap/css_bootstrap.min.css"></script>
</body>

</html>
